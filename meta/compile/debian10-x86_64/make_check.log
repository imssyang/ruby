❯ make check 2>make_check.log 1>&2
	BASERUBY = echo executable host ruby is required.  use --with-baseruby option.; false
	CC = gcc
	LD = ld
	LDSHARED = gcc -shared
	CFLAGS = -O3 -ggdb3 -Wall -Wextra -Wdeprecated-declarations -Wduplicated-cond -Wimplicit-function-declaration -Wimplicit-int -Wmisleading-indentation -Wpointer-arith -Wwrite-strings -Wimplicit-fallthrough=0 -Wmissing-noreturn -Wno-cast-function-type -Wno-constant-logical-operand -Wno-long-long -Wno-missing-field-initializers -Wno-overlength-strings -Wno-packed-bitfield-compat -Wno-parentheses-equality -Wno-self-assign -Wno-tautological-compare -Wno-unused-parameter -Wno-unused-value -Wsuggest-attribute=format -Wsuggest-attribute=noreturn -Wunused-variable -std=gnu99 
	XCFLAGS = -D_FORTIFY_SOURCE=2 -fstack-protector-strong -fno-strict-overflow -fvisibility=hidden -fexcess-precision=standard -DRUBY_EXPORT -fPIE -DCANONICALIZATION_FOR_MATHN -I. -I.ext/include/x86_64-linux -I./include -I. -I./enc/unicode/12.1.0
	CPPFLAGS =   
	DLDFLAGS = -Wl,--compress-debug-sections=zlib -fstack-protector-strong -pie  
	SOLIBS = -lz -lpthread -lrt -lrt -ldl -lcrypt -lm 
	LANG = en_US.UTF-8
	LC_ALL = 
	LC_CTYPE = 
	MFLAGS = 
gcc (Debian 8.3.0-6) 8.3.0
Copyright (C) 2018 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

./revision.h unchanged
generating enc.mk
making srcs under enc
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Nothing to be done for 'srcs'.
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
generating transdb.h
transdb.h unchanged
generating makefiles ext/configure-ext.mk
ext/configure-ext.mk unchanged
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/io/console'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/io/console'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/monitor'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/monitor'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/syslog'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/syslog'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/ripper'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/ripper'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/coverage'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/coverage'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/openssl'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/openssl'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/digest'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/digest'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/digest/sha2'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/digest/sha2'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/socket'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/socket'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/pathname'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/pathname'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/rubyvm'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/rubyvm'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/pty'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/pty'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/fiddle'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/fiddle'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/bigdecimal'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/bigdecimal'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/psych'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/psych'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/json'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/json'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/date'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/date'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1/ext/nkf'
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1/ext/nkf'
make[2]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
./revision.h unchanged
make[2]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
*** Following extensions are not compiled:
readline:
	Could not be configured. It will not be installed.
	/opt/ruby/archive/source/ruby-2.7.1/ext/readline/extconf.rb:62: Neither readline nor libedit was found
	Check ext/readline/mkmf.log for more details.
dbm:
	Could not be configured. It will not be installed.
	Check ext/dbm/mkmf.log for more details.
*** Fix the problems, then remove these directories and try again if you want.
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
making enc
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Nothing to be done for 'enc'.
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
making trans
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Nothing to be done for './enc/trans'.
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
making encs
make[1]: Entering directory '/opt/ruby/archive/source/ruby-2.7.1'
make[1]: Nothing to be done for 'encs'.
make[1]: Leaving directory '/opt/ruby/archive/source/ruby-2.7.1'
Generating RDoc documentation

No newer files.

  Files:      0

  Classes:    0 (0 undocumented)
  Modules:    0 (0 undocumented)
  Constants:  0 (0 undocumented)
  Attributes: 0 (0 undocumented)
  Methods:    0 (0 undocumented)

  Total:      0 (0 undocumented)
    0.00% documented

  Elapsed: 0.0s

generating x86_64-linux-fake.rb
x86_64-linux-fake.rb updated
test_attr.rb             ..
test_autoload.rb         ........
test_block.rb            ..........................................................
test_class.rb            ................................................
test_env.rb              ..
test_eval.rb             .....................................
test_exception.rb        ..................................
test_fiber.rb            .....
test_finalizer.rb        .
test_flip.rb             .
test_flow.rb             ..............................................................
test_fork.rb             ....
test_gc.rb               ..
test_insns.rb            ........................................................................................................................................................................................................................................................................................................................................................................................................
test_io.rb               .........
test_jump.rb             .............................
test_literal.rb          ............................................................................................................................................................
test_literal_suffix.rb   ................................................
test_load.rb             ..
test_marshal.rb          .
test_massign.rb          ..................................
test_method.rb           ...............................................................................................................................................................................................................................
test_objectspace.rb      ......
test_proc.rb             .......................................
test_string.rb           .
test_struct.rb           .
test_syntax.rb           ............................................................................................................................................................
test_thread.rb           ................................................
Fiber count: 10000 (skipping)
Thread count: 10000 (skipping)
PASS all 1409 tests
exec ./miniruby -I./lib -I. -I.ext/common  ./tool/runruby.rb --extout=.ext  -- --disable-gems "./bootstraptest/runner.rb" --ruby="ruby --disable-gems"   ./KNOWNBUGS.rb
2020-09-02 19:15:01 +0800
Driver is ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-linux]
Target is ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-linux]

KNOWNBUGS.rb   
No tests, no problem
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:assignment ....................................................................................................................................................................................................................................................................................................................................................................................OK 372
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:condition ..OK 2
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:if/unless ...OK 3
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:case .....OK 5
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:while/until ........OK 8
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:exception ..........OK 10
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:array .......................................OK 39
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:hash ...........................OK 27
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:iterator .............................................................................................................OK 109
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:float ................................................................................OK 80
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:bignum ...............................OK 31
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:string & char ..............................................................OK 62
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:assignment ..........OK 10
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:call ......OK 6
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:proc .........OK 9
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:signal ..OK 2
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:eval ...........................OK 27
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:system ........OK 8
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:const .....OK 5
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:clone .....OK 5
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:marshal ....OK 4
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:pack ....OK 4
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:math ..OK 2
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:struct ......OK 6
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:variable ...........OK 11
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:trace ...OK 3
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:defined? ............OK 12
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:alias ......OK 6
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:path .......................OK 23
/opt/ruby/archive/source/ruby-2.7.1/basictest/test.rb:gc ....OK 4

test succeeded
Run options: "--ruby=./miniruby -I./lib -I. -I.ext/common  ./tool/runruby.rb --extout=.ext  -- --disable-gems"

# Running tests:

Finished tests in 1.180830s, 193.9314 tests/s, 423.4311 assertions/s.
229 tests, 500 assertions, 0 failures, 0 errors, 0 skips

ruby -v: ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-linux]
config.status: creating ruby-runner.h
making mjit_build_dir.so
Gem::Indexer tests are being skipped.  Install builder gem.
generate_index tests are being skipped.  Install builder gem.
Run options: "--ruby=./miniruby -I./lib -I. -I.ext/common  ./tool/runruby.rb --extout=.ext  -- --disable-gems" --excludes-dir=./test/excludes --name=!/memory_leak/

# Running tests:

/opt/ruby/archive/source/ruby-2.7.1/lib/drb/drb.rb:1690: warning: Using the last argument as keyword parameters is deprecated; maybe ** should be added to the call
/opt/ruby/archive/source/ruby-2.7.1/test/drb/ut_drb.rb:151: warning: The called method `keyword_test1' is defined here
/opt/ruby/archive/source/ruby-2.7.1/lib/drb/drb.rb:1690: warning: Using the last argument as keyword parameters is deprecated; maybe ** should be added to the call
/opt/ruby/archive/source/ruby-2.7.1/test/drb/ut_drb.rb:155: warning: The called method `keyword_test2' is defined here
/opt/ruby/archive/source/ruby-2.7.1/lib/drb/drb.rb:1690: warning: Using the last argument as keyword parameters is deprecated; maybe ** should be added to the call
/opt/ruby/archive/source/ruby-2.7.1/test/drb/ut_drb.rb:159: warning: The called method `keyword_test3' is defined here
Finished tests in 386.105337s, 54.1717 tests/s, 7042.5652 assertions/s.
20916 tests, 2719172 assertions, 0 failures, 0 errors, 79 skips

ruby -v: ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-linux]
$ /opt/ruby/archive/source/ruby-2.7.1/miniruby -I/opt/ruby/archive/source/ruby-2.7.1/lib /opt/ruby/archive/source/ruby-2.7.1/tool/runruby.rb --archdir=/opt/ruby/archive/source/ruby-2.7.1 --extout=.ext -- /opt/ruby/archive/source/ruby-2.7.1/spec/mspec/bin/mspec-run -B ./spec/default.mspec
ruby 2.7.1p83 (2020-03-31 revision a0c7c23c9c) [x86_64-linux]
..................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................

Finished in 57.853439 seconds

3746 files, 30373 examples, 187928 expectations, 0 failures, 0 errors, 0 tagged
check succeeded
+ git --no-pager log --format=oneline -G ^ *# *include origin/master..HEAD
